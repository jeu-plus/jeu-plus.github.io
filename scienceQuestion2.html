<!DOCTYPE html>
  <html>
    <!--Code par Owen-->
    <!-- creation des mots sur l'onglet-->
    <head>
      <meta charset="utf-8">
      <title>Quiz: Science</title>
      <link rel="stylesheet" href="CSS/styleCommun.css">
      <style>
          input[type="text"] {
            width: 80px;
            height: 80px;
            font-size: 20px;
            text-align: center;
            margin-left: 10px;
            border: 2px solid black;
          }
          #prochain {
            position: fixed;
            bottom: 20px;
            right: 20px;
          } 
        </style>
    </head>
  <body>
    <form>
    <h1 id="title">Science - Question 2</h1>
      <img src="https://cache.magicmaman.com/data/photo/w1200_h630_c18/4c/grenouille.jpg" height="325px" width="500px">
      <p style="font-size:30px;">Léa observe une grenouille dans un étang. Cet animal vit dans l’eau et sur terre. Comment appelle-t-on ce type d’animal?
</p>
      <hr>
   
          <!-- Dropdown box with options -->
          <select id="choix">
              <option value="" disabled selected>Choisi un type d'animal</option>
              <option value="Amphibien">Amphibien</option>
              <option value="Mamiphère">Mammifère</option>
              <option value="Carnivore">Carnivore</option>
              <option value="Herbivore">Herbivore</option>
          </select>
          <br>
      <input type="button" onclick= "verifie()" value="Soumettre">
      <div id="affiche"></div>
      <input type="button" id="retour" onclick="back()" value="Retour">
      <input type="button" id="prochain" onclick="next()" style="display: none;" value="Prochaine Question">
       <div id="score">
          Score : <span id="scoreValue">0</span>/9
        </div>
    <script> 
    /*Initialize le score sur le page et vérifie si la question est déja repondu ou non*/
     var score = parseInt(localStorage.getItem('score'))
     document.getElementById('scoreValue').innerText = score
    /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code vérifie si la question est déja répondu ou nom.*/
          if (localStorage.getItem('answered5') === "true") {
     document.getElementById('prochain').style.display = "block"
      }
    /*Fonction qui vérifie la réponse, si correct affiche message et boutton, declare comme répondu et incrémente score, si incorrect affiche autre message*/
    function verifie() {
    var choix = document.getElementById("choix").value;
    var message = "";
    /*Produit seulement si la réponse est correcte et si la question n'est pas déja répondu*/
    if (choix == "Amphibien") {
      message += "Bravo! la réponse est correcte."
      if (localStorage.getItem('answered5') !== "true") {
      localStorage.setItem('answered5', true)
      document.getElementById('prochain').style.display = "block"
      incremente()
      }
    } else {
      message = "La réponse est incorrecte.";
    }
    document.getElementById("affiche").innerHTML = message;
    }
    /*Fonction pour le boutton de retour*/
    function back() {
      location.href = "index.html";
    }
     /*Fonction le bouton de la prochaine question*/
    function next() {
      location.href = "scienceQuestion3.html";
    } 
    /*Fonction pour incrémenter le score*/
    function incremente(){
      if (score < 9) {
      score += 1
      document.getElementById('scoreValue').innerText = score
        localStorage.setItem('score', score)
      }
    }
      /*Vérifie si answered5 exist, si non, il est crée et assigné a false par départ*/
      /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code marque la question comme non répondu si non répondu.*/
      if (localStorage.getItem('answered5') === null) {
        localStorage.setItem('answered5', false)
      }
    </script>
    </form>
  </body>
  </html>
