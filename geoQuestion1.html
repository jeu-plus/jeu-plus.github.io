<!DOCTYPE html>
<html>
    <!-- Code par Tyson -->
    <head>
        <meta charset="utf-8">
        <title>Géographie - Question 1</title>
        <link rel="stylesheet" href="CSS/styleCommun.css">
        <style>
          /*https://www.w3schools.com/css/css_form.asp - Ce code done des styles aux inputs.*/
          input[type="text"] {
            width: 80px;
            height: 80px;
            font-size: 20px;
            text-align: center;
            margin-left: 10px;
            border: 2px solid black;
          }
          #prochain {
            position: fixed;
            bottom: 20px;
            right: 20px;
          }
        </style>
    </head>
    <body>
      <form>
        <!--Information sur page, image, question, equation, réponse, bouton, text box, etc.-->
          <!-- creation de la premiere question -->
    <h1 id="title">Géographie - Question 1</h1>
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/Asia_in_the_world_%28red%29_%28W3%29.svg/800px-Asia_in_the_world_%28red%29_%28W3%29.svg.png" height="325px" width="750px">
      <p style="font-size: 30px;">Quelle est le nom du continent en rouge?</p>
      <hr>
      <div id=continent>
          <!-- Indice envers la réponse -->
      <p>Il y a seulment 7 continents.</p>
      <input type="text" id="reponse1">
      </div>
        <br>
        <input type="button" onclick= "verifie()"  value="Soumettre">
        <div id="affiche"></div>
        <input type="button" id="retour" onclick="back()"  value="Retour">
        <input type="button" id="prochain" onclick="next()"  style="display: none;" value="Prochaine Question">
          <div id="score">
          Score : <span id="scoreValue">0</span>/9
        </div>
      <script>
         /*Initialize le score sur le page et vérifie si la question est déja repondu ou non*/
          var score = parseInt(localStorage.getItem('score'))
          document.getElementById('scoreValue').innerText = score
        /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code vérifie si la question est déja répondu ou nom.*/
          if (localStorage.getItem('answered7') === "true") {
          prochain.style.display = "block"
          }
        /*Fonction qui vérifie la réponse, si correct affiche message et boutton, declare comme répondu et incrémente score, si incorrect affiche autre message*/
        function verifie() {
          var reponse1 = (document.getElementById("reponse1").value).toLowerCase()
          var message = ""
          /*Produit seulement si la réponse est correcte et si la question n'est pas déja répondu*/
        if (reponse1 == "asie") {
          message += "Bravo! La réponse est correcte."
            if (localStorage.getItem('answered7') !== "true") {
          localStorage.setItem('answered7', true)
          prochain.style.display = "block"
          incremente()
            }
          /*https://www.w3schools.com/jsref/jsref_isnan.asp - Ce code voit si la réponse est un nombre.*/
        } else if (!isNaN(parseInt(reponse1))) 
        { message += "Entrée invalide! Entrez une réponse valide."
        } else {
          message += "La réponse est incorrecte. Essayer encore."
        } 
          affiche.innerHTML = message
        }
        /*Fonction pour le boutton de retour*/
        function back() {
          location.href = "index.html"
        }
        /*Fonction pour le bouton de la prochaine question*/
        function next() {
          location.href = "geoQuestion2.html"
        }
        /*Fonction pour incrémenter le score*/
          function incremente(){
          if (score < 9) {
              score += 1
              document.getElementById('scoreValue').innerText = score
              localStorage.setItem('score', score)
        }
        }
        /*Vérifie si answered7 exist, si non, il est crée et assigné a false par départ*/
        /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code marque la question comme non répondu si non répondu.*/
        if (localStorage.getItem('answered7') === null) {
         localStorage.setItem('answered7', false)
          }
      </script>
      </form>
    </body>
</html>
