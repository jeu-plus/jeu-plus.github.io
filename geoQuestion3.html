<!DOCTYPE html>
<html>
    <!-- Code par Tyson -->
    <head>
        <meta charset="utf-8">
        <title>Géographie - Question 3</title>
        <link rel="stylesheet" href="CSS/styleCommun.css">
        <style>
          select {
            font-size: 20px;
            padding: 10px;
            margin-top: 20px;
          }
          #prochain {
            position: fixed;
            bottom: 20px;
            right: 20px;
          }
        </style>
    </head>
    <body>
      <form>
        <!--Information sur page, image, question, equation, réponse, bouton, text box, etc.-->
          <!-- création de la première question -->
          <h1 id="title">Géographie - Question 3</h1>
          <img src="https://i.redd.it/ug1unry9svk71.jpg" height="325px" width="750px">
          <p style="font-size: 30px;">Quelle est la capitale de l'Australie ?</p>
          <hr>
          
          <!-- Dropdown box with options -->
          <select id="choix">
              <option value="" disabled selected>Choisissez une ville</option>
              <option value="Sydney">Sydney</option>
              <option value="Canberra">Canberra</option>
              <option value="Melbourne">Melbourne</option>
              <option value="Perth">Perth</option>
              <option value="Brisbane">Brisbane</option>
          </select>
          <br>
          
          <input type="button" onclick="verifie()" value="Soumettre">
          <div id="affiche"></div>
          <input type="button" id="retour" onclick="back()" value="Retour">
          <input type="button" id="prochain" onclick="back()" style="display: none;" value="Questionnaire Géographie Terminé">
          <div id="score">
          Score : <span id="scoreValue">0</span>/9
        </div>
      <script>
        /*Initialize le score sur le page et vérifie si la question est déja repondu ou non*/
          var score = parseInt(localStorage.getItem('score'))
          document.getElementById('scoreValue').innerText = score
        /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code vérifie si la question est déja répondu ou nom.*/
          if (localStorage.getItem('answered9') === "true") {
          prochain.style.display = "block"
          }
        /*Fonction qui vérifie la réponse, si correct affiche message et boutton, declare comme répondu et incrémente score, si incorrect affiche autre message*/
        function verifie() {
          var choix = document.getElementById("choix").value;
          var message = "";
          /*Produit seulement si la réponse est correcte et si la question n'est pas déja répondu*/
          if (choix === "Canberra") {
            message = "Bravo! La réponse est correcte.";
            if (localStorage.getItem('answered9') !== "true") {
          localStorage.setItem('answered9', true)
          prochain.style.display = "block"
          incremente()
          }
          } else {
            message = "La réponse est incorrecte.";
          }
          document.getElementById("affiche").innerHTML = message;
        }
         /*Fonction pour le boutton de retour*/
        function back() {
          location.href = "index.html";
        }
         /*Fonction pour incrémenter le score*/
        function incremente(){
          if (score < 9) {
              score += 1
              document.getElementById('scoreValue').innerText = score
              localStorage.setItem('score', score)
        }
        }
        /*Vérifie si answered9 exist, si non, il est crée et assigné a false par départ*/
        /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code marque la question comme non répondu si non répondu.*/
        if (localStorage.getItem('answered9') === null) {
         localStorage.setItem('answered9', false)
          }
      </script>
     </form>
    </body>
</html>
