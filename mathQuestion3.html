<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <title>Mathématique - Question 3</title>
        <link rel="stylesheet" href="styleCommun.css">
        <style>
          input[type="checkbox"] {
            text-align: center;
            font-size: 20px;
            margin: 10px;
          }
          /*https://www.w3schools.com/css/css_form.asp*/
          #fini {
            position: fixed;
            bottom: 20px;
            right: 20px;
          }
        </style>
    </head>

    <body>
      <form>
    <h1 id="title">Mathématique - Question 3</h1>
      <img src="mathQuestion3.jpg" height="325px" width="750px">
      <p style="font-size: 30px;">Jack peint un mur rectangulaire qui mesure 5 mètres de long et 2 mètres de haut. Quelle est le périmètre et l’aire du mur?</p>
      <hr>
      <input type="checkbox" id="reponse1" name="perimetreAire" value="14">Périmètre = 14 métres<br>
      <input type="checkbox" id="reponse2" name="perimetreAire" value="7">Périmètre = 7 métres <br>
      <input type="checkbox" id="reponse3" name="perimetreAire" value="5">Aire = 5 métres^2    <br>
      <input type="checkbox" id="reponse4" name="perimetreAire" value="10">Aire = 10 métres^2   <br>
        <br>
        <input type="button" onclick= "verifie()"  value="Soummettre">
        <div id="affiche"></div>
        <input type="button" id="retour" onclick="back()"  value="Retour">
        <input type="button" id="fini" onclick="done()"  style="display: none;" value="Questionnaire Mathématique Terminé">
        <div id="score">
          Score : <span id="scoreValue">0</span>/9
        </div>
          <!--Information sur page, image, question, equation, réponse, bouton, checkbox, etc.-->
      <script>
          var score = parseInt(localStorage.getItem('score'))
          document.getElementById('scoreValue').innerText = score
          if (localStorage.getItem('answered3') === "true") {
          fini.style.display = "block"
          }
          /*Initialize le score sur le page et vérifie si la question est déja repondu ou non*/
        function verifie() {
           var checkboxes = document.getElementsByName("perimetreAire")
          var pereimetreCheckbox = document.getElementById("reponse1")
          var aireCheckbox = document.getElementById("reponse4")
          var nombreDeCheck = 0
          var message = ""
          for (var i=0; i < checkboxes.length; i++) {
             if (checkboxes[i].checked) {
                 nombreDeCheck++
             }
          }
        if ((nombreDeCheck == 2) && (pereimetreCheckbox.checked && aireCheckbox.checked)) {
            message += "Bravo! La réponse est correcte."
            if (localStorage.getItem('answered3') !== "true") {
                localStorage.setItem('answered3', true)
          fini.style.display = "block"
          incremente()
          }
        } else {
            message += "La réponse est incorrecte."
        }
          affiche.innerHTML = message
        }
          /*Vérifie la réponse, si correct affiche message et boutton, declare comme répondu et incrémente score, si incorrect affiche autre message*/
        function back() {
          location.href = "index.html"
        }
        function done() {
          location.href = "index.html"
        }
        function incremente(){
          if (score < 9) {
              score += 1
              document.getElementById('scoreValue').innerText = score
              localStorage.setItem('score', score)
        }
        }
          /*Fonction pour les bouton et l'incrémentation du score*/
        if (localStorage.getItem('answered1') === null) {
         localStorage.setItem('answered1', false)
          }
          /*Vérifie si answered3 exist, si non, il est crée et assigné a false par départ*/
      </script>
      </form>
    </body>
</html>
