<!DOCTYPE html>
  <html>
    <!--Code par Owen-->
    <!-- creation des mots sur l'onglet-->
    <head>
      <meta charset="utf-8">
      <title>Science - Question 3</title>
      <link rel="stylesheet" href="CSS/styleCommun.css">
      <style>
          input[type="text"] {
            display : block;
            width: 100px;
            height: 40px;
            font-size: 20px;
            margin-bottom: 20px;
            border: 2px solid black;
          }
        #textBox {
          text-align: center;
        }
          #prochain {
            position: fixed;
            bottom: 20px;
            right: 20px;
          }
        </style>
    </head>
  <body>
    <h1 id="title">Science - Question 3</h1>
    <form>
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoT8-Q_j7LdlXPRVZxKLFkQNVQYaNwDDBEOw&s" height="325px" width="750px">
      <p style="font-size:30px;">Camille apprend comment les plantes fabriquent leur nourriture. Elles utilisent la lumière du soleil, de l'eau et du dioxyde de carbone. Comment appelle-t-on ce processus?</p>
      <hr>
      <div id="textBox">
      <input type="text" id="reponse3">
    </div>
      <br>
      <input type="button" onclick= "verifie()" value="Soumettre">
      <div id="affiche"></div>
      <input type="button" id="retour" onclick="back()" value="Retour">
      <input type="button" id="prochain" onclick="back()" style="display: none;" value="Questionnaire Science Terminé">
       <div id="score">
          Score : <span id="scoreValue">0</span>/9
        </div>
    <script> 
       /*Initialize le score sur le page et vérifie si la question est déja repondu ou non*/
          var score = parseInt(localStorage.getItem('score'))
          document.getElementById('scoreValue').innerText = score
        /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code vérifie si la question est déja répondu ou nom.*/
          if (localStorage.getItem('answered6') === "true") {
          prochain.style.display = "block"
          }
        /*Fonction qui vérifie la réponse, si correct affiche message et boutton, declare comme répondu et incrémente score, si incorrect affiche autre message*/
        function verifie() {
          var reponse3 =  (document.getElementById("reponse3").value).toLowerCase()
          var message = ""
           /*Produit seulement si la réponse est correcte et si la question n'est pas déja répondu*/
        if ((reponse3 == "photosynthèse") || (reponse3 == "photosynthese")) {
          message += "Bravo! La réponse est correcte."
          if (localStorage.getItem('answered6') !== "true") {
          localStorage.setItem('answered6', true)
          prochain.style.display = "block"
          incremente()
          }
        } else {
          message += "La réponse est incorrecte. Essayer encore."
        } 
          affiche.innerHTML = message
        }
        /*Fonction pour le boutton de retour*/
        function back() {
          location.href = "index.html"
        }
       /*Fonction pour incrémenter le score*/
        function incremente(){
          if (score < 9) {
              score += 1
              document.getElementById('scoreValue').innerText = score
              localStorage.setItem('score', score)
        }
        }
        /*Vérifie si answered6 exist, si non, il est crée et assigné a false par départ*/
        /*https://www.w3schools.com/jsref/prop_win_localstorage.asp - Ce code marque la question comme non répondu si non répondu.*/
        if (localStorage.getItem('answered6') == null) { 
          localStorage.setItem('answered6', false)
        }
      </script>
      </form>
    </body>
  </html>
